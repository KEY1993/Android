<?xml version="1.0" encoding="UTF-8"?>
<project name="MainActivity" default="exec">
    <property file="local.properties" />
    <!-- jar file from where the tasks are loaded -->
    <path id="android.antlibs">
        <pathelement path="${sdk.dir}/tools/lib/ant-tasks.jar" />
    </path>

    <!-- Custom tasks -->
    <taskdef resource="anttasks.properties" classpathref="android.antlibs" />
    
	<property name="variable1" value="123"/>
	<target name="test">
	    <tstamp>
    	<format property="time" pattern="yyyyMMddHHmm" />
  </tstamp>
		<echo>variable1=${variable1} ${time}</echo>
	</target>
	
	<target name="parseXml">
	    <xmlproperty file="AndroidManifest.xml" prefix="themanifest" collapseAttributes="true" />
	    <echo>versionCode:${themanifest.manifest.android:versionCode} versionName:${themanifest.manifest.android:versionName}</echo>
	    
	    <xpath input="AndroidManifest.xml" expression="/manifest/@package" output="project.app.package" />
	    <echo>package:${project.app.package}</echo>
	</target>
	
	<target name="exec">
		<exec executable="cmd"  failonerror="false" resultproperty="resultproperty"  errorproperty="errorproperty" outputproperty="outputproperty">
            		<arg line="/c hg log" />
        		</exec>
        	<echo>resultproperty:${resultproperty}		outputproperty:${outputproperty}			errorproperty:${errorproperty}</echo>
	</target>
</project>
